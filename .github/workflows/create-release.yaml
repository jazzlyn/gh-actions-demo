---
name: create release

on:
  workflow_dispatch:

jobs:
  docker-build-push:
    permissions:
      id-token: write
      contents: read
      packages: write
    uses: "strg-at/github-workflows/.github/workflows/docker-build-push-github.yaml@aa1f8619cbbad509699c0488d1e1a0a0a24eca09" # v1.8.0
    with:
      runner: '["ubuntu-latest"]'
      subpath: hello-world

  create-release:
    needs: [docker-build-push]
    uses: "strg-at/github-workflows/.github/workflows/github-create-release.yaml@aa1f8619cbbad509699c0488d1e1a0a0a24eca09" # v1.8.0
    with:
      runner: '["ubuntu-latest"]'
    secrets:
      github-app-id: ${{ secrets.JAZZLYN_BOT_GITHUB_APP_ID }}
      github-app-key: ${{ secrets.JAZZLYN_BOT_GITHUB_PEM }}
